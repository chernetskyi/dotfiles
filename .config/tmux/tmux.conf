# Remap prefix from 'C-b' to 'C-a' {{{
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix
# }}}

# Mouse {{{
set -g mouse on
# }}}

# History size {{{
set -g history-limit 10000
# }}}

# Start indexing from 1 {{{
set-option -g base-index 1
set-option -g pane-base-index 1
# }}}

# Ask for window name on creation {{{
bind-key c command-prompt "new-window -n '%%'"
# }}}

# Understandable split pane keybindings {{{
unbind '"'
unbind %
bind-key v split-window -h -c "#{pane_current_path}"
bind-key h split-window -v -c "#{pane_current_path}"
# }}}

# Fix clearing terminal {{{
bind-key C-l send-keys 'C-l'
# }}}

# Vim fixes {{{
set-option -g escape-time 0
set-option -g focus-events on
set-option -g default-terminal "tmux-256color"
set-option -sa terminal-overrides ',alacritty:RGB'
set-option -sa terminal-overrides ',*:Smulx=\E[4::%p1%dm'
set-option -sa terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'
# }}}

# Colorscheme {{{
set -g mode-style "fg=#E0DEF4,bg=#191724"

set -g message-style "fg=#E0DEF4,bg=#191724"
set -g message-command-style "fg=#E0DEF4,bg=#191724"

set -g pane-border-style "fg=#26233A"
set -g pane-active-border-style "fg=#EBBCBA"

set -g status "on"
set -g status-justify "left"
set -g status-style "fg=#EBBCBA,bg=#191724"

set -g status-left-length "100"
set -g status-left-style NONE
set -g status-left "#[fg=#191724,bg=#EBBCBA,bold] #S #[fg=#EBBCBA,bg=#191724,nobold,nounderscore,noitalics]"

set -g status-right-length "100"
set -g status-right-style NONE
set -g status-right "#[fg=#26233A,bg=#191724,nobold,nounderscore,noitalics]#{prefix_highlight}#[fg=#EBBCBA,bg=#26233A,nobold,nounderscore,noitalics]#[fg=#191724,bg=#EBBCBA,bold] #h "

setw -g window-status-activity-style "underscore,fg=#191724,bg=#191724"
setw -g window-status-separator ""
setw -g window-status-style "NONE,fg=#E0DEF4,bg=#191724"
setw -g window-status-format " #I #W #F "
setw -g window-status-current-format " #I #W #F "
# }}}

# Plugins {{{
set -g @prefix_highlight_show_copy_mode 'on'
set -g @prefix_highlight_show_sync_mode 'on'
set -g @prefix_highlight_prefix_prompt '  ^A  '
set -g @prefix_highlight_copy_prompt ' Copy '
set -g @prefix_highlight_sync_prompt ' Sync '
set -g @prefix_highlight_fg '#EBBCBA'
set -g @prefix_highlight_bg '#26233A'
set -g @prefix_highlight_copy_mode_attr 'fg=#EBBCBA,bg=#26233A'
set -g @prefix_highlight_sync_mode_attr 'fg=#EBBCBA,bg=#26233A'
run-shell ~/.config/tmux/prefix_highlight.tmux
# }}}

# vim:foldmethod=marker:foldlevel=0
